<!-- Kitchen Sink Datatables -->
      
<section id="ngx-datatable-kitchen-sink"  *ngIf="isPM">
    <button class="btn btn-primary " rippleEffect (click)="activeIds=[]">
      <i data-feather="plus" class="mr-0 mr-sm-1"></i
      ><span class="d-none d-sm-inline-block">Agregar proyecto</span>
    </button><br><br>
    <div class="card collapse-icon">
      <ngb-accordion #acc="ngbAccordion" activeIds="{{activeIds}}" >
        <ngb-panel>
          <ng-template ngbPanelTitle>
            <h4>
              <span class="collapse-title"> Proyectos
              </span>
            </h4>
          </ng-template>
          <ng-template ngbPanelContent>
            <ngx-datatable
        [rows]="kitchenSinkRows"
        [rowHeight]="58"
        class="bootstrap core-bootstrap"
        [limit]="5"
        [columnMode]="ColumnMode.force"
        [headerHeight]="40"
        [footerHeight]="50"
        [scrollbarH]="true"
        [limit]="basicSelectedOption"
        (activate)="onActivate($event)"
        (select)="onSelect($event)"
      >

        <ngx-datatable-column name="Nombre" prop="full_name" [width]="280" >
          <ng-template let-row="row" let-name="value" ngx-datatable-cell-template>
            <div class="d-flex align-items-center" (click)="activeIds=[]" >
              <div *ngIf="row.avatar.length > 0; else customAvatar">
                <img
                  class="rounded-circle mr-1"
                  src="assets/images/portrait/small/{{ row.avatar }}"
                  height="32"
                  width="32"
                  alt="datatable-avatar"
                />
              </div>
              <ng-template #customAvatar>
                <div
                  class="avatar mr-1 ml-0"
                  [ngClass]="{
                    'bg-light-primary': row.status == '1',
                    'bg-light-success': row.status == '2',
                    'bg-light-danger': row.status == '3',
                    'bg-light-warning': row.status == '4',
                    'bg-light-info': row.status == '5'
                  }"
                  
                >
                  <div class="avatar-content" >{{ name | initials }}</div>
                </div>
              </ng-template>
              <div class="cell-line-height">
                <p class="font-medium-1 font-weight-bold line-height-1 mb-25">
                  {{ name }}
                </p>
                
              </div>
            </div>
          </ng-template>
        </ngx-datatable-column>
        <ngx-datatable-column name="Progreso" prop="progreso" >
          <ng-template let-progreso="value" ngx-datatable-cell-template>
            <div (click)="activeIds=[]">{{ progreso }}</div>
          </ng-template>
          
        </ngx-datatable-column>
        <ngx-datatable-column name="Estado" prop="status">
          <ng-template let-status="value" ngx-datatable-cell-template>
            <div
              class="badge badge-pill"
              [ngClass]="{
                'badge-light-primary': status == '1',
                'badge-light-warning': status == '2',
                'badge-light-danger': status == '3',
                'badge-light-info': status == '4',
                'badge-light-success': status == '5'
              }" (click)="activeIds=[]"
            >
              {{
                status == 1
                  ? 'Documentando'
                  : status == 2
                  ? 'Graficando'
                  : status == 3
                  ? 'En espera de dev.'
                  : status == 4
                  ? 'Asignando'
                  : status == 5
                  ? 'Terminado'
                  : 'Documentando'
              }}
            </div>
          </ng-template>
        </ngx-datatable-column>
        <ngx-datatable-column name="Acciones" [sortable]="false">
          <ng-template ngx-datatable-cell-template>
            <div class="d-flex align-items-center">
              <div ngbDropdown container="body">
                <a
                  ngbDropdownToggle
                  href="javascript:void(0);"
                  class="hide-arrow"
                  id="dropdownBrowserState"
                  data-toggle="dropdown"
                  aria-haspopup="true"
                  aria-expanded="false"
                >
                  <i data-feather="more-vertical" class="text-primary cursor-pointer mr-50"></i>
                </a>
                <div ngbDropdownMenu class="dropdown-menu-right" aria-labelledby="dropdownBrowserState">
                  <a href="javascript:void(0)" ngbDropdownItem class="d-flex align-items-center"
                    ><i data-feather="user" class="mr-50"></i> Asignar</a
                  >
                  <a href="javascript:void(0)" ngbDropdownItem class="d-flex align-items-center"
                    ><i data-feather="figma" class="mr-50"></i> Graficar</a
                  >
                  <a href="javascript:void(0)" ngbDropdownItem class="d-flex align-items-center"
                    ><i data-feather="copy" class="mr-50"></i> Duplicar</a
                  >
                  <a href="javascript:void(0)" ngbDropdownItem class="d-flex align-items-center"
                    ><i data-feather="delete" class="mr-50"></i> Resetear</a
                  >
                  <a href="javascript:void(0)" ngbDropdownItem class="d-flex align-items-center"
                    ><i data-feather="check-circle" class="mr-50"></i> Terminar</a
                  >
                  <a href="javascript:void(0)" ngbDropdownItem class="d-flex align-items-center"
                    ><i data-feather="archive" class="mr-50"></i> Archivar</a
                  >
                  <a href="javascript:void(0)" ngbDropdownItem class="d-flex align-items-center"
                    ><i data-feather="trash-2" class="mr-50"></i> Eliminar</a
                  >
                </div>
              </div>
            </div>
          </ng-template>
        </ngx-datatable-column>
      </ngx-datatable>
          </ng-template>
        </ngb-panel>
      </ngb-accordion>
    </div>
  </section>
  <!--/ Kitchen Sink Datatables -->