<form class="auth-register-form mt-2" [formGroup]="registerForm" (ngSubmit)="onSubmit()">
    <div class="form-group">
      <label for="register-firstName" class="form-label">¿Cómo te llamas?</label>
      <input
        type="text"
        formControlName="firstName"
        class="form-control"
        placeholder="Pedro"
        aria-describedby="register-firstName"
        tabindex="1"
        autofocus
        [ngClass]="{ 'is-invalid': submitted && f.firstName.errors }"
      />
      <div *ngIf="submitted && f.firstName.errors" class="invalid-feedback">
        <div *ngIf="f.firstName.errors.required">Tu nombre es necesario</div>
      </div>
    </div>
    <div class="form-group">
      <label for="register-lastName" class="form-label">¿Cuál es tu apellido?</label>
      <input
        type="text"
        formControlName="lastName"
        class="form-control"
        placeholder="Pérez"
        aria-describedby="register-lastName"
        tabindex="2"
        [ngClass]="{ 'is-invalid': submitted && f.lastName.errors }"
      />
      <div *ngIf="submitted && f.lastName.errors" class="invalid-feedback">
        <div *ngIf="f.lastName.errors.required">Tu apellido es necesario</div>
      </div>
    </div>

    <div class="divider">
      <div class="divider-text">Dirección</div>
    </div>

    <div class="form-group">
      <label for="register-ciudad" class="form-label">Ciudad</label>
      <input
        type="text"
        formControlName="ciudad"
        class="form-control"
        placeholder="Ciudad"
        aria-describedby="register-ciudad"
        tabindex="3"
        [ngClass]="{ 'is-invalid': submitted && f.ciudad.errors }"
      />
      <div *ngIf="submitted && f.ciudad.errors" class="invalid-feedback">
        <div *ngIf="f.ciudad.errors.required">Tu ciudad es necesaria</div>
      </div>
    </div>

    <div class="form-group">
      <label for="register-estado" class="form-label">Estado</label>
      <select 
        class="form-control"
        aria-describedby="register-estado"
        tabindex="4"
        [ngClass]="{ 'is-invalid': submitted && f.estado.errors }"
        formControlName="estado"
      >
      <option selected>	Aguascalientes	</option>
      <option>	Baja California	</option>
      <option>	Baja California Sur	</option>
      <option>	Campeche	</option>
      <option>	Coahuila de Zaragoza	</option>
      <option>	Colima	</option>
      <option>	Chiapas	</option>
      <option>	Chihuahua	</option>
      <option>	Distrito Federal	</option>
      <option>	Durango	</option>
      <option>	Guanajuato	</option>
      <option>	Guerrero	</option>
      <option>	Hidalgo	</option>
      <option>	Jalisco	</option>
      <option>	México	</option>
      <option>	Michoacán de Ocampo	</option>
      <option>	Morelos	</option>
      <option>	Nayarit	</option>
      <option>	Nuevo León	</option>
      <option>	Oaxaca	</option>
      <option>	Puebla	</option>
      <option>	Querétaro	</option>
      <option>	Quintana Roo	</option>
      <option>	San Luis Potosí	</option>
      <option>	Sinaloa	</option>
      <option>	Sonora	</option>
      <option>	Tabasco	</option>
      <option>	Tamaulipas	</option>
      <option>	Tlaxcala	</option>
      <option>	Veracruz de Ignacio de la Llave	</option>
      <option>	Yucatán	</option>
      <option>	Zacatecas	</option>

      </select>

      <div *ngIf="submitted && f.estado.errors" class="invalid-feedback">
        <div *ngIf="f.estado.errors.required">El estado donde vives es necesario</div>
      </div>
    </div>

    <div class="form-group">
      <label for="register-fraccionamiento" class="form-label">Fraccionamiento</label>
      <input
        type="text"
        formControlName="fraccionamiento"
        class="form-control"
        placeholder="Fraccionamiento"
        aria-describedby="register-fraccionamiento"
        tabindex="5"
        [ngClass]="{ 'is-invalid': submitted && f.fraccionamiento.errors }"
      />
      <div *ngIf="submitted && f.fraccionamiento.errors" class="invalid-feedback">
        <div *ngIf="f.fraccionamiento.errors.required">El fraccionamiento es necesario</div>
      </div>
    </div>
    <div class="form-group">
      <label for="register-coto" class="form-label">Coto</label>
      <input
        type="text"
        formControlName="coto"
        class="form-control"
        placeholder="Coto"
        aria-describedby="register-coto"
        tabindex="6"
        [ngClass]="{ 'is-invalid': submitted && f.coto.errors }"
      />
      <div *ngIf="submitted && f.coto.errors" class="invalid-feedback">
        <div *ngIf="f.coto.errors.required">El coto es necesario</div>
      </div>
    </div>
    <div class="form-group">
      <label for="register-casa" class="form-label">Casa</label>
      <input
        type="text"
        formControlName="casa"
        class="form-control"
        placeholder="Casa"
        aria-describedby="register-casa"
        tabindex="7"
        [ngClass]="{ 'is-invalid': submitted && f.casa.errors }"
      />
      <div *ngIf="submitted && f.casa.errors" class="invalid-feedback">
        <div *ngIf="f.casa.errors.required">La casa es necesaria</div>
      </div>
    </div>
    <div class="form-group">
      <label for="register-calle" class="form-label">Calle</label>
      <input
        type="text"
        formControlName="calle"
        class="form-control"
        placeholder="Calle"
        aria-describedby="register-calle"
        tabindex="8"
        [ngClass]="{ 'is-invalid': submitted && f.calle.errors }"
      />
      <div *ngIf="submitted && f.calle.errors" class="invalid-feedback">
        <div *ngIf="f.calle.errors.required">La calle es necesaria</div>
      </div>
    </div>
    <div class="form-group">
      <label for="register-avenida" class="form-label">Avenida</label>
      <input
        type="text"
        formControlName="avenida"
        class="form-control"
        placeholder="Avenida"
        aria-describedby="register-avenida"
        tabindex="9"
        [ngClass]="{ 'is-invalid': submitted && f.avenida.errors }"
      />
      <div *ngIf="submitted && f.avenida.errors" class="invalid-feedback">
        <div *ngIf="f.avenida.errors.required">La avenida es necesaria</div>
      </div>
    </div>
    <div class="form-group">
      <label for="register-referencia" class="form-label">Referencia</label>
      <input
        type="text"
        formControlName="referencia"
        class="form-control"
        placeholder="Referencia"
        aria-describedby="register-referencia"
        tabindex="10"
        [ngClass]="{ 'is-invalid': submitted && f.referencia.errors }"
      />
      <div *ngIf="submitted && f.referencia.errors" class="invalid-feedback">
        <div *ngIf="f.referencia.errors.required">La referencia es necesaria</div>
      </div>
    </div>
    <div class="form-group">
      <label for="register-telefono" class="form-label">Teléfono</label>
      
      <div class="input-group">
        <div class="input-group-prepend">
          <span class="input-group-text" id="basic-addon1">+52</span>
        </div>
        <input 
        type="text" 
        formControlName="telefono"
        class="form-control" 
        placeholder="(760) 123 00 00" 
        mask="(000) 000 00 00" 
        aria-describedby="register-telefono"
        tabindex="11"
        [ngClass]="{ 'is-invalid': submitted && f.telefono.errors }"
        />
      </div>
      <div *ngIf="submitted && f.telefono.errors" class="invalid-feedback">
        <div *ngIf="f.telefono.errors.required">El teléfono es necesario</div>
      </div>
    </div>

    <div class="divider">
      <div class="divider-text">Familiares</div>
    </div>

    
    <div class="form-group">
      <label for="register-nombre_familiar_1" class="form-label">Nombre del familiar 1</label>
      <input
        type="text"
        formControlName="nombre_familiar_1"
        class="form-control"
        placeholder="Pedro"
        aria-describedby="register-nombre_familiar_1"
        tabindex="12"
        [ngClass]="{ 'is-invalid': submitted && f.nombre_familiar_1.errors }"
      />
      <div *ngIf="submitted && f.nombre_familiar_1.errors" class="invalid-feedback">
        <div *ngIf="f.nombre_familiar_1.errors.required">El nombre del 1er familiar es necesario</div>
      </div>
    </div>
    <div class="form-group">
      <label for="register-apellido_familiar_1" class="form-label">Apellido del familiar 1</label>
      <input
        type="text"
        formControlName="apellido_familiar_1"
        class="form-control"
        placeholder="Pérez"
        aria-describedby="register-apellido_familiar_1"
        tabindex="13"
        [ngClass]="{ 'is-invalid': submitted && f.apellido_familiar_1.errors }"
      />
      <div *ngIf="submitted && f.apellido_familiar_1.errors" class="invalid-feedback">
        <div *ngIf="f.apellido_familiar_1.errors.required">El apellido del 1er familiar es necesario</div>
      </div>
    </div>
    <div class="form-group">
      <label for="register-telefono_familiar_1" class="form-label">Teléfono del familiar 1</label>
      <div class="input-group">
        <div class="input-group-prepend">
          <span class="input-group-text" id="basic-addon1">+52</span>
        </div>
        <input 
        type="text" 
        formControlName="telefono_familiar_1"
        class="form-control" 
        placeholder="(760) 123 00 00" 
        mask="(000) 000 00 00" 
        aria-describedby="register-telefono_familiar_1"
        tabindex="14"
        [ngClass]="{ 'is-invalid': submitted && f.telefono_familiar_1.errors }"
        />
      </div>
      <div *ngIf="submitted && f.telefono_familiar_1.errors" class="invalid-feedback">
        <div *ngIf="f.telefono_familiar_1.errors.required">El teléfono del 1er familiar es necesario</div>
      </div>
    </div>
    <div class="form-group">
      <label for="register-nombre_familiar_2" class="form-label">Nombre del familiar 2</label>
      <input
        type="text"
        formControlName="nombre_familiar_2"
        class="form-control"
        placeholder="Pedro"
        aria-describedby="register-nombre_familiar_2"
        tabindex="15"
        [ngClass]="{ 'is-invalid': submitted && f.nombre_familiar_2.errors }"
      />
      <div *ngIf="submitted && f.nombre_familiar_2.errors" class="invalid-feedback">
        <div *ngIf="f.nombre_familiar_2.errors.required">El nombre del 2do familiar es necesario</div>
      </div>
    </div>
    <div class="form-group">
      <label for="register-apellido_familiar_2" class="form-label">Apellido del familiar 2</label>
      <input
        type="text"
        formControlName="apellido_familiar_2"
        class="form-control"
        placeholder="Pérez"
        aria-describedby="register-apellido_familiar_2"
        tabindex="16"
        [ngClass]="{ 'is-invalid': submitted && f.apellido_familiar_2.errors }"
      />
      <div *ngIf="submitted && f.apellido_familiar_2.errors" class="invalid-feedback">
        <div *ngIf="f.apellido_familiar_2.errors.required">El apellido del 2do familiar es necesario</div>
      </div>
    </div>
    <div class="form-group">
      <label for="register-telefono_familiar_2" class="form-label">Teléfono del familiar 2</label>
      <div class="input-group">
        <div class="input-group-prepend">
          <span class="input-group-text" id="basic-addon1">+52</span>
        </div>
        <input 
        type="text" 
        formControlName="telefono_familiar_2"
        class="form-control" 
        placeholder="(760) 123 00 00" 
        mask="(000) 000 00 00" 
        aria-describedby="register-telefono_familiar_2"
        tabindex="17"
        [ngClass]="{ 'is-invalid': submitted && f.telefono_familiar_2.errors }"
        />
      </div>
      <div *ngIf="submitted && f.telefono_familiar_2.errors" class="invalid-feedback">
        <div *ngIf="f.telefono_familiar_2.errors.required">El teléfono del 2do familiar es necesario</div>
      </div>
    </div>

    <div class="divider">
      <div class="divider-text">Facturación</div>
    </div>

    <div class="form-group">
      <label for="register-rfc" class="form-label">RFC</label>
      <input
        type="text"
        formControlName="rfc"
        class="form-control"
        placeholder="RFC"
        aria-describedby="register-rfc"
        tabindex="18"
        [ngClass]="{ 'is-invalid': submitted && f.rfc.errors }"
      />
      <div *ngIf="submitted && f.rfc.errors" class="invalid-feedback">
        <div *ngIf="f.rfc.errors.required">El RFC es necesario</div>
      </div>
    </div>
    <div class="form-group">
      <label for="register-codigo_postal" class="form-label">Código postal</label>
      <input
        type="text"
        formControlName="codigo_postal"
        class="form-control"
        placeholder="Código postal"
        aria-describedby="register-codigo_postal"
        tabindex="19"
        [ngClass]="{ 'is-invalid': submitted && f.codigo_postal.errors }"
      />
      <div *ngIf="submitted && f.codigo_postal.errors" class="invalid-feedback">
        <div *ngIf="f.codigo_postal.errors.required">El código postal es necesario</div>
      </div>
    </div>
    <div class="form-group">
      <label for="register-tipo_cliente" class="form-label">Tipo de cliente</label>

      <select 
        class="form-control"
        aria-describedby="register-tipo_cliente"
        tabindex="20"
        [ngClass]="{ 'is-invalid': submitted && f.tipo_cliente.errors }"
        formControlName="tipo_cliente"
      >
      <option selected>	Residencial 	</option>
      <option>	Negocio	</option>
      <option>	Punto de venta	</option>
      <option>	Sucursal	</option>
      <option>	Independiente	</option>

      </select>

      <div *ngIf="submitted && f.tipo_cliente.errors" class="invalid-feedback">
        <div *ngIf="f.tipo_cliente.errors.required">El tipo de cliente es necesario</div>
      </div>
    </div>
    <div class="form-group">
      <label for="register-cliente_nuevo" class="form-label">¿Eres un nuevo cliente?</label>
      <div class="custom-control custom-checkbox">
        <input 
          type="checkbox" 
          class="custom-control-input" 
          id="customCheck1" 
          formControlName="cliente_nuevo"
          aria-describedby="register-cliente_nuevo"
          tabindex="21"
          />
        <label class="custom-control-label" for="customCheck1">Sí</label>
      </div>
      <div *ngIf="submitted && f.cliente_nuevo.errors" class="invalid-feedback">
        <div *ngIf="f.cliente_nuevo.errors.required">Esta información es necesaria</div>
      </div>
    </div>
    <div class="form-group">
      <label for="register-fecha_ultimo_pedido" class="form-label">Fecha de tu último pedido</label>
      <input 
        class="form-control" 
        type="text" 
        formControlName="fecha_ultimo_pedido"
        placeholder="01/02/2023" 
        mask="00/00/0000" 
        aria-describedby="register-fecha_ultimo_pedido"
        tabindex="22"
      />
    </div>

    <div class="form-group">
      <label for="register-sucursal" class="form-label">Sucursal</label>

      <select 
        class="form-control"
        aria-describedby="register-sucursal"
        tabindex="23"
        [ngClass]="{ 'is-invalid': submitted && f.sucursal.errors }"
        formControlName="sucursal"
      >
      <option selected>	Bugambilias	</option>
      <option>	Patria	</option>
      <option>	Adamar	</option>
      </select>

      <div *ngIf="submitted && f.sucursal.errors" class="invalid-feedback">
        <div *ngIf="f.sucursal.errors.required">La sucursal es necesaria</div>
      </div>
    </div>

    <div class="divider">
      <div class="divider-text">Acceso</div>
    </div>

    <div class="form-group">
      <label for="register-email" class="form-label">¿Cuál es tu correo?</label>
      <input
        type="text"
        formControlName="email"
        class="form-control"
        placeholder="pedro@example.com"
        aria-describedby="register-email"
        tabindex="24"
        [ngClass]="{ 'is-invalid': submitted && f.email.errors }"
      />
      <div *ngIf="submitted && f.email.errors" class="invalid-feedback">
        <div *ngIf="f.email.errors.required">El correo es necesario</div>
        <div *ngIf="f.email.errors.email">Ingresa una dirección de correo válida</div>
      </div>
    </div>

    <div class="form-group">
      <label for="register-password" class="form-label">Coloca una contraseña</label>

      <div class="input-group input-group-merge form-password-toggle">
        <input
          [type]="passwordTextType ? 'password' : 'text'"
          formControlName="password"
          class="form-control form-control-merge"
          placeholder="············"
          aria-describedby="register-password"
          tabindex="25"
          [ngClass]="{ 'is-invalid error': submitted && f.password.errors }"
        />
        <div class="input-group-append">
          <span class="input-group-text cursor-pointer"
            ><i
              class="feather font-small-4"
              [ngClass]="{
                'icon-eye': passwordTextType,
                'icon-eye-off': !passwordTextType
              }"
              (click)="togglePasswordTextType()"
            ></i
          ></span>
        </div>
      </div>
      <div
        *ngIf="submitted && f.password.errors"
        class="invalid-feedback"
        [ngClass]="{ 'd-block': submitted && f.password.errors }"
      >
        <div *ngIf="f.password.errors.required">La contraseña es necesaria</div>
      </div>
    </div>
    <!--<div class="form-group">
      <div class="custom-control custom-checkbox">
        <input class="custom-control-input" type="checkbox" id="register-privacy-policy" tabindex="4" />
        <label class="custom-control-label" for="register-privacy-policy">
          Debes aceptar nuestras <a href="javascript:void(0);">políticas de privacidad</a>
        </label>
      </div>
    </div>-->
    <button class="btn btn-primary btn-block" tabindex="26" rippleEffect *ngIf="!permitir_envio || registerForm.invalid">Regístrate</button>
    <button class="btn btn-primary btn-block" type="button" disabled rippleEffect *ngIf="permitir_envio && !registerForm.invalid">
      <span class="spinner-grow spinner-grow-sm" role="status" aria-hidden="true"></span>
      <span class="ml-25 align-middle">Registrando...</span>
    </button>
  </form>

  <!-- ngb-alert component -->
  <ngb-alert [type]="'danger'" *ngIf="existencia" class="mt-1" [dismissible]="false">
    <div class="alert-body">
      <span [data-feather]="'info'" [class]="'mr-50 align-middle'"></span>
      <span>¡Estos datos ya existen!</span>
    </div>
  </ngb-alert>
  <!--/ ngb-alert component -->